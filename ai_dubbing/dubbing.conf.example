# SRT配音工具配置文件
# 复制此文件并根据实际需求修改参数

[基本配置]
# 输入文件路径（SRT或TXT，必须指定）
input_file = /path/to/input.srt

# 参考语音文件路径（支持 wav/mp3，支持多个，用逗号分隔）
# 单个文件示例：
# voice_files = /path/to/reference.wav
# 多个文件示例：
voice_files = /path/to/reference1.wav, /path/to/reference2.wav

# 参考音频对应的文本（与voice_files一一对应，用双引号包围，逗号分隔）
# 单个文本示例：
# prompt_texts = "这是参考音频的文本"
# 多个文本示例：
prompt_texts = "这是第一段参考音频的文本", "这是第二段参考音频的文本，可以包含逗号、分号等特殊字符"

# 输出音频文件路径（默认：output.wav）
output_file = /path/to/output.wav

# TTS引擎选择：fish_speech, index_tts, f5_tts, cosy_voice
tts_engine = fish_speech

# 时间同步策略：stretch, basic
# 注意：TXT文件模式下系统会自动使用basic策略
strategy = basic

[高级配置]
# 语言设置：zh, en, ja, ko（TXT模式专用）
language = zh

[并发配置]
# 策略并行合成：最大并发、最大重试
tts_max_concurrency = 8
tts_max_retries = 2

[字幕优化配置]
llm_api_key = sk-xxxxxxxxxxxxxxxxxx
llm_model = deepseek-chat
base_url = https://api.deepseek.com
#单位毫秒
chinese_char_min_time = 130
english_word_min_time = 250

# LLM并发与稳定性配置
# 最大并发请求数（根据供应商限流适当调整）
llm_max_concurrency = 6
# 失败重试次数（指数退避）
llm_max_retries = 3
# 单请求超时（秒）
llm_timeout = 60

# 优化后的SRT文件输出路径（可选，默认在输入文件同目录）
optimized_srt_output_file = /home/xiaofei/code/open-dubbing/input/sample3_optimized.srt

[时间借用配置]
# 最小保护空隙（毫秒），小于此值的空隙不借用
min_gap_threshold = 300
# 借用比例（0.1-0.8），从可用空隙中借用的比例
borrow_ratio = 0.5
# 额外缓冲时间（毫秒），在计算需要延长时间时的安全余量
extra_buffer = 200

